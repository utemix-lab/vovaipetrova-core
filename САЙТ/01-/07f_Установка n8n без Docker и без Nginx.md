
## üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ PM2?
**PM2** ‚Äî —ç—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è Node.js-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ó–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ —Ñ–æ–Ω–µ.
- –°–ª–µ–¥–∏—Ç—å –∑–∞ –ø–∞–¥–µ–Ω–∏—è–º–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–Ω–∏–º–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã.

---

## üöÄ –≠—Ç–∞–ø—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∏—Å–∫–∞
```bash
umount /hdd
fdisk /dev/sdb
# d (—É–¥–∞–ª–∏—Ç—å), n (–Ω–æ–≤—ã–π), w (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)

mkfs.ext4 /dev/sdb1
blkid /dev/sdb1
# –°–∫–æ–ø–∏—Ä—É–π UUID –∏ –¥–æ–±–∞–≤—å –≤ /etc/fstab:
# UUID=... /hdd ext4 defaults 0 2

mount -a
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ npm (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
```bash
apt update && apt install -y nodejs npm
node -v
npm -v
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
```bash
mkdir -p /hdd/n8n
cd /hdd/n8n
npm init -y
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ n8n
```bash
npm install n8n
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
```bash
npm install pm2
```

---

## ‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ `/hdd/n8n`:
```dotenv
GENERIC_TIMEZONE=Europe/Moscow
N8N_PORT=5678
N8N_SECURE_COOKIE=false
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ n8n —á–µ—Ä–µ–∑ PM2

–ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/hdd/n8n`:
```bash
./node_modules/.bin/pm2 start ./node_modules/n8n/bin/n8n --name n8n-hdd
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
./node_modules/.bin/pm2 list
```

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
```bash
./node_modules/.bin/pm2 save
./node_modules/.bin/pm2 startup
```

–ü–æ—Å–ª–µ `pm2 startup` –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ ‚Äî –æ–±—ã—á–Ω–æ `systemctl enable pm2-root`.

---

## üîÅ –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è `.env`

```bash
./node_modules/.bin/pm2 delete n8n-hdd
./node_modules/.bin/pm2 start ./node_modules/n8n/bin/n8n --name n8n-hdd
./node_modules/.bin/pm2 save
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ

–¢–µ–ø–µ—Ä—å n8n –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
```
http://<IP_–°–ï–†–í–ï–†–ê>:5678
```