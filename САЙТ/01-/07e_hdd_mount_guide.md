# Шпаргалка: форматирование и подключение диска /hdd в Ubuntu

## Зачем сначала форматировать диск?
Если диск не отформатирован, он либо пустой, либо с остатками старых данных/файловой системы. Монтирование такого диска может не сработать или привести к ошибкам. Форматирование создаёт чистую файловую систему ext4, пригодную для Linux-систем.

---

## 1. Проверка подключённых дисков
```bash
lsblk
```
Посмотри, где находится новый диск (например, `/dev/sdb`).

---

## 2. Удаление старой разметки (если нужно)
```bash
umount /hdd
fdisk /dev/sdb
```
Внутри fdisk:
```
d         # удалить раздел
n         # создать новый
p         # primary
1         # номер раздела
ENTER     # первый сектор по умолчанию
ENTER     # последний сектор по умолчанию
w         # записать изменения и выйти
```

---

## 3. Форматирование
```bash
mkfs.ext4 /dev/sdb1
```
Ты получишь UUID и PARTUUID. Скопируй **UUID**.

Пример UUID:
```text
UUID="946b6bdf-6cb1-47d1-a668-bdfdf78b3429"
```

---

## 4. Создание точки монтирования
```bash
mkdir -p /hdd
```

---

## 5. Ручное монтирование
```bash
mount /dev/sdb1 /hdd
```

Проверь:
```bash
df -h
```

---

## 6. Добавление в /etc/fstab для автоподключения

Открой файл:
```bash
nano /etc/fstab
```

Добавь в конец:
```text
UUID=946b6bdf-6cb1-47d1-a668-bdfdf78b3429 /hdd ext4 defaults 0 2
```

Сохрани `Ctrl+O`, затем `Enter`, и `Ctrl+X`.

---

## 7. Применение изменений
```bash
systemctl daemon-reexec
mount -a
df -h
```

Теперь диск будет подключаться автоматически при запуске системы.

---

## Полезные команды
Показать UUID ещё раз:
```bash
blkid /dev/sdb1
```

Проверка смонтированных точек:
```bash
df -h
```

Если диск не монтируется — проверь `fstab`:
```bash
nano /etc/fstab
```

---

✅ Готово! Теперь `/hdd` готов для размещения данных и установки приложений (например, n8n).
