# CodeGPT Agents — Промпты агентов

Инструкция по добавлению и использованию промптов для специализированных агентов CodeGPT.

## Структура

Каждый агент — это файл с промптом в папке `.codegpt/agents/`:

```
.codegpt/agents/
├── README.md           # Этот файл
├── docs-agent.md       # Агент для работы с документацией
├── refactor-agent.md   # Агент для рефакторинга
└── creative-agent.md   # Агент для творческих задач
```

## Типы агентов

### Docs Agent
**Назначение**: Работа с документацией (`docs/`)

**Область ответственности**:
- Создание и редактирование Markdown файлов
- Нормализация front matter
- Исправление ссылок
- Проверка соответствия конвенциям

**Ограничения**:
- Работает только с `docs/**/*.md`
- Не меняет `scripts/`, `.github/workflows/`
- Следует правилам из `docs/PROTOCOL.md`

### Refactor Agent
**Назначение**: Рефакторинг кода и структуры

**Область ответственности**:
- Реструктуризация файлов
- Улучшение кода в `scripts/`
- Оптимизация workflows
- Миграции данных

**Ограничения**:
- Требует явного указания в Briefs
- Должен сохранять обратную совместимость
- Создаёт RFC для крупных изменений

### Creative Agent
**Назначение**: Творческие задачи (Stories, контент)

**Область ответственности**:
- Создание Stories эпизодов
- Генерация контента
- Редактирование текстов
- Работа с шаблонами

**Ограничения**:
- Не использует персональные данные (PII)
- Следует формату Stories (700–1200 знаков)
- Проверяет на PII перед коммитом

## Как добавить нового агента

1. **Создайте файл** `.codegpt/agents/{agent-name}.md`

2. **Структура промпта**:
   ```markdown
   # {Название агента}

   ## Роль
   {Описание роли и области ответственности}

   ## Контекст проекта
   Прочитай `/.codegpt/context.md` для понимания структуры проекта.

   ## Правила работы
   - Следуй `docs/PROTOCOL.md` для контрактной модели
   - Проверяй соответствие `CONTRIBUTING.md` для процесса
   - Используй соответствующие шаблоны из `templates/`

   ## Ограничения
   - {Список ограничений для этого агента}

   ## Примеры задач
   - {Пример 1}
   - {Пример 2}
   ```

3. **Добавьте описание** в этот README

4. **Протестируйте** на простой задаче

## Использование агентов

### В CodeGPT
1. Откройте настройки CodeGPT
2. Выберите "Custom Prompts" или "Agents"
3. Загрузите промпт из `.codegpt/agents/{agent-name}.md`
4. Используйте агента для соответствующих задач

### Через CLI (если поддерживается)
```bash
codegpt --agent docs-agent --task "Создать новую статью"
```

## Текущие агенты

### Docs Agent (`docs-agent.md`)
Для работы с документацией в `docs/`. Создаёт и редактирует Markdown файлы, следует конвенциям проекта.

### Refactor Agent (`refactor-agent.md`)
Для рефакторинга кода и структуры. Работает с `scripts/` и workflows, требует RFC для крупных изменений.

### Creative Agent (`creative-agent.md`)
Для творческих задач (Stories, контент). Генерирует контент, следует формату Stories, проверяет на PII.

## Рекомендации

- **Один агент = одна специализация**: не смешивайте роли
- **Явные ограничения**: всегда указывайте, что агент НЕ должен делать
- **Примеры**: добавляйте примеры задач для лучшего понимания
- **Обновление**: синхронизируйте промпты с изменениями в `PROTOCOL.md` и `context.md`

## Связано с

- `docs/PROTOCOL.md` — контрактная модель для агентов
- `/.codegpt/context.md` — контекст проекта
- `CONTRIBUTING.md` — процесс работы с репозиторием

