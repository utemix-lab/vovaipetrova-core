---
title: Настройка UTF-8 кодировки в редакторах
slug: utf-8-setup
summary: Руководство по настройке UTF-8 кодировки в редакторах и Git для предотвращения моджибаке (искажённых символов) в файлах с русским текстом.
status: ready
tags:
  - Документация
  - Инструменты
machine_tags:
  - action/build
  - theme/dev
---

# Настройка UTF-8 кодировки в редакторах

## Проблема

Файлы с русским текстом могут сохраняться в неправильной кодировке (Windows-1251 вместо UTF-8), что приводит к моджибаке (искажённым символам) при просмотре в других редакторах или на GitHub.

## Решение

### 1. EditorConfig (рекомендуется)

В репозитории уже есть файл `.editorconfig`, который автоматически настраивает кодировку UTF-8 для всех файлов.

**Что делает:**
- Устанавливает UTF-8 для всех файлов
- Настраивает перевод строки (LF)
- Удаляет пробелы в конце строк
- Добавляет финальный перевод строки

**Как использовать:**
- VS Code/Cursor автоматически подхватывают `.editorconfig`
- Для других редакторов установите плагин EditorConfig

### 2. VS Code / Cursor

#### Автоматическая настройка (через `.editorconfig`)

Просто откройте проект — настройки применятся автоматически.

#### Ручная настройка

1. Создайте файл `.vscode/settings.json` в корне проекта (если его нет)
2. Скопируйте настройки из `vscode-settings.example.json`:

```json
{
  "files.encoding": "utf8",
  "files.autoGuessEncoding": true,
  "[markdown]": {
    "files.encoding": "utf8"
  }
}
```

#### Глобальные настройки (для всех проектов)

1. Откройте настройки: `Ctrl+,` (Windows/Linux) или `Cmd+,` (Mac)
2. Найдите "Files: Encoding"
3. Установите значение `utf8`
4. Включите "Files: Auto Guess Encoding"

### 3. Git настройки

Настройте Git для правильной работы с UTF-8:

```bash
# Отключить экранирование путей (для правильного отображения русских символов)
git config --global core.quotepath false

# Установить кодировку коммитов
git config --global i18n.commitencoding utf-8

# Установить кодировку вывода логов
git config --global i18n.logoutputencoding utf-8
```

### 4. Проверка кодировки файла

#### В VS Code/Cursor

1. Откройте файл
2. Посмотрите в правый нижний угол статус-бара
3. Там должна быть указана кодировка (например, "UTF-8")
4. Если указана другая кодировка, кликните на неё и выберите "Reopen with Encoding" → "UTF-8"

#### В командной строке (Windows PowerShell)

```powershell
# Проверить кодировку файла
Get-Content file.md -Encoding UTF8 | Select-Object -First 1

# Если файл в неправильной кодировке, конвертировать:
$content = [System.IO.File]::ReadAllText('file.md', [System.Text.Encoding]::GetEncoding('Windows-1251'))
$utf8 = New-Object System.Text.UTF8Encoding $false
[System.IO.File]::WriteAllText('file.md', $content, $utf8)
```

### 5. Предотвращение проблем

**Перед сохранением файла:**
- Убедитесь, что в статус-баре указано "UTF-8"
- Если указано "Windows-1251" или другая кодировка, переключите на UTF-8

**Перед коммитом:**
- Проверьте файлы на моджибаке: откройте файл в другом редакторе или на GitHub
- Если видите искажённые символы — файл в неправильной кодировке

**При создании нового файла:**
- VS Code/Cursor автоматически используют UTF-8 (благодаря `.editorconfig`)
- Если создаёте файл вручную, убедитесь, что сохраняете в UTF-8

## Проверка настроек

После настройки проверьте:

1. **Создайте тестовый файл** `test-utf8.md`:
   ```markdown
   # Тест UTF-8

   Русский текст: привет, мир!
   ```

2. **Проверьте кодировку** в статус-баре VS Code/Cursor — должно быть "UTF-8"

3. **Откройте файл в другом редакторе** или на GitHub — текст должен отображаться правильно

4. **Удалите тестовый файл** после проверки

## Дополнительные ресурсы

- [EditorConfig документация](https://editorconfig.org/)
- [VS Code кодировки](https://code.visualstudio.com/docs/editor/codebasics#_file-encoding-support)
- [Git и UTF-8](https://git-scm.com/docs/git-config#Documentation/git-config.txt-corequotepath)

