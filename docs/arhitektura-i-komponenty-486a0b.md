---
title: Архитектура и компоненты
slug: arhitektura-i-komponenty-486a0b
summary: >
  Верхнеуровневая схема платформы: ключевые подсистемы, их обязанности и
  интерфейсы.
tags:
  - Проектирование
  - Автоматизация
  - Кодинг
machine_tags:
  - product/services
  - action/build
  - theme/automation
  - theme/dev
  - theme/graphics
status: ready
---
# Архитектура и компоненты

## TL;DR
- Система состоит из веб-приложения, API, генерации контента, базы знаний и служб хранения.
- Все компоненты подключены к общей шине аутентификации и журналу событий.
- Архитектура поддерживает импорт из Notion, автоматическую нормализацию и публикацию.

## Логическая схема
- **WebApp (Next.js).** Роутинг, SSR, UI для клиентов и редакторов.
- **API (FastAPI/Node).** REST и webhooks, интеграция с генеративными сервисами.
- **Generation (LLM).** Компонент промптов, шаблонов и очередей задач.
- **Knowledge Base.** Хранилище контента, поиск, фасетная навигация.
- **Storage.** Postgres + объектное хранилище для медиа, CDN для статики.
- **Auth.** Единая авторизация, роли, токены для агентов и внешних сервисов.

## Таблица компонентов
| Компонент | Основная задача | Входы | Выходы |
|-----------|-----------------|-------|--------|
| `COMP-WebApp` | Отрисовка интерфейса, SSR | API, Auth | HTML, статические ассеты |
| `COMP-API` | Оркестрация запросов, webhooks | WebApp, Notion, GitHub | Сервисы генерации, БД |
| `COMP-Gen` | Генерация текстов/медиа | Очереди задач | Рендеры, черновики |
| `COMP-KB` | Индексация и поиск | Notion sync, PR | Датасеты, facet API |
| `COMP-Store` | Данные и медиа | API, генерация | SQL, CDN |
| `COMP-Auth` | Роли и токены | Все сервисы | JWT/сессии, ACL |

## Контроль и эволюция
- Изменения фиксируем через ADR + ссылку на соответствующий компонент.
- Мониторим контракт API в [реестре спецификаций](api-reestr-i-specifikacii-711159.md).
- Для генеративных фич поддерживаем песочницу, чтобы не ломать основную цепочку публикаций.

## Связано с…
- [Вова и Петрова](vova-i-petrova.md)
- [Think Tank — компактное ядро](think-tank-kompaktnoe-yadro-1d36dd.md)
- [Таксономия и теги](taksonomiya-i-tegi.md)
- [[ADR] Журнал решений](adr-zhurnal-reshenij-b34c2e.md)
- [Услуги](uslugi.md)
