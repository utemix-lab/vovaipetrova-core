---
title: Настройка доступа к страницам Notion для MCP
slug: notion-access-setup
summary: Как настроить доступ интеграции Notion к страницам и базам данных
tags:
  - Автоматизация
machine_tags:
  - theme/automation
status: ready
---

# Настройка доступа к страницам Notion для MCP

## Проблема

MCP сервер работает и может делать запросы к Notion API, но не может получить доступ к страницам, потому что интеграция Notion не имеет прав доступа к нужным страницам/базам данных.

## Как это работает

### Два уровня доступа

1. **API доступ** (токен) — позволяет делать запросы к Notion API
   - ✅ У вас есть: `NOTION_API_KEY` работает
   - ✅ MCP сервер может подключиться к Notion API

2. **Доступ к контенту** (права на страницы) — позволяет читать/редактировать конкретные страницы
   - ❌ Нужно настроить: интеграция должна иметь доступ к страницам
   - ❌ По умолчанию интеграции не имеют доступа ни к каким страницам

## Решение: Дать доступ интеграции к страницам

### Шаг 1: Найдите вашу интеграцию

1. Перейдите на https://www.notion.so/my-integrations
2. Найдите вашу интеграцию (та, токен которой используется в MCP)
3. Запомните название интеграции

### Шаг 2: Дайте доступ к страницам

**Вариант A: Доступ к конкретной странице**

1. Откройте страницу в Notion, к которой нужен доступ
2. Нажмите на **"..."** (три точки) в правом верхнем углу
3. Выберите **"Add connections"** или **"Подключения"**
4. Найдите вашу интеграцию в списке
5. Нажмите на неё, чтобы добавить доступ

**Вариант B: Доступ к базе данных**

1. Откройте базу данных в Notion
2. Нажмите на **"..."** (три точки) в правом верхнем углу
3. Выберите **"Add connections"** или **"Подключения"**
4. Найдите вашу интеграцию
5. Добавьте доступ

**Вариант C: Доступ ко всей рабочей области (если возможно)**

1. Перейдите в Settings & Members → Connections
2. Найдите вашу интеграцию
3. Нажмите на неё
4. Включите доступ к нужным страницам/базам данных

### Шаг 3: Проверьте доступ

После добавления доступа попробуйте снова:

1. В Copilot попросите получить страницу по ID или URL
2. Или используйте MCP инструмент `notion_fetch` с ID страницы

## Как получить ID страницы

### Из URL Notion

Если у вас есть URL страницы:
```
https://www.notion.so/My-Page-1234567890abcdef1234567890abcdef
```

ID страницы: `1234567890abcdef1234567890abcdef`

Или в формате с дефисами:
```
12345678-90ab-cdef-1234-567890abcdef
```

### Через поиск

Используйте MCP инструмент `notion_search`:
```
Найди в Notion страницы про "название"
```

Это покажет список страниц с их ID.

## Troubleshooting

### Ошибка "Object not found" или "Page not found"

**Причина:** Интеграция не имеет доступа к этой странице

**Решение:**
1. Откройте страницу в Notion
2. Добавьте интеграцию через "Add connections"
3. Попробуйте снова

### Ошибка "Unauthorized" или "401"

**Причина:** Неправильный токен или токен не имеет прав

**Решение:**
1. Проверьте токен в `.env`: `NOTION_API_KEY=secret_...` или `ntn_...`
2. Убедитесь, что токен правильный (скопирован полностью)
3. Проверьте, что интеграция активна в Notion

### MCP работает, но не может найти страницы

**Причина:** Интеграция не имеет доступа ни к каким страницам

**Решение:**
1. Добавьте доступ хотя бы к одной странице (см. Шаг 2)
2. Попробуйте поиск через `notion_search`
3. Если поиск работает, но конкретная страница нет — добавьте доступ к ней

## Примеры

### Пример 1: Доступ к странице Briefs

1. Откройте страницу Briefs в Notion
2. "..." → "Add connections"
3. Выберите вашу интеграцию
4. Теперь MCP может читать/редактировать эту страницу

### Пример 2: Доступ к базе данных

1. Откройте базу данных в Notion
2. "..." → "Add connections"
3. Выберите вашу интеграцию
4. Теперь MCP может запрашивать записи из этой базы

## Важно

- **Интеграция по умолчанию не имеет доступа ни к каким страницам**
- **Нужно явно добавить доступ к каждой странице/базе данных**
- **Доступ можно дать как к отдельным страницам, так и к целым базам данных**
- **После добавления доступа MCP сразу сможет работать с этими страницами**

## Проверка работы

После настройки доступа проверьте:

```bash
# Запустите MCP сервер вручную для проверки
node mcp-server-notion.mjs
```

Или в Copilot попросите:
```
Найди в Notion страницы про "проект"
```

Если поиск работает — доступ настроен правильно!

## Связанные документы

- [COPILOT-NOTION-SETUP.md](../COPILOT-NOTION-SETUP.md) — настройка MCP для Copilot
- [MCP-QUICKSTART.md](../MCP-QUICKSTART.md) — быстрый старт MCP


