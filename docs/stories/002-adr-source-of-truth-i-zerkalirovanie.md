---
title: 'ADR: Source of truth и зеркалирование'
slug: 002-adr-source-of-truth-i-zerkalirovanie
summary: >-
  Архитектурное решение о разделении ролей: Notion как источник истины, GitHub
  как зеркало.
tags:
  - Story
machine_tags:
  - content/story
status: ready
last_edited_time: null
---

# ADR: Source of truth и зеркалирование

TL;DR

- Принято решение: Notion — источник истины, GitHub — зеркало для исполнения и публикации.
- Notion хранит архитектурные решения и правила, GitHub получает компактный пакет notion-brain.
- Контент и прототип живут в репозитории, конвейер импорта включается по мере надобности.
- Раздельные workflow для импортов и деплоя обеспечивают безопасность и прозрачность.
- Дальше — формализация правил экспорта и синхронизации.

**Что произошло.** На раннем этапе требовалась скорость внесения массовых правок и фиксации архитектуры. Одновременно нужны были предпросмотры через GitHub Pages и история изменений через Git. Это привело к необходимости разделения ролей между Notion и GitHub.

**Зачем это делали.** Ранний этап требует скорости работы в привычной среде, но также нужна структурированная версия для CI и публикации. Разделение позволяет работать быстро в Notion, а GitHub получает машиночитаемый снимок для автоматизации и предпросмотра.

**Что получилось.** Все архитектурные решения и правила ведём в Notion. Экспортируем компактный пакет notion-brain в репозиторий: ADR, Specs, Instructions, context-map. Контент и прототип живут в репо, конвейер импорта включается по мере надобности. Actions используют раздельные workflow для импортов и деплоя.

**Тех-вставка.** ADR описан в `docs/adr-source-of-truth-i-zerkalirovanie.md`. Плюсы: одна точка мышления в Notion, прозрачная история в GitHub. Риски: рассинхронизация, митигируем чек-листами и явными экспортами только notion-brain. Масштабирование: любые LLM-исполнители читают notion-brain как контекст.

**Что дальше.** После фиксации архитектуры следующий шаг — формализация правил экспорта и синхронизации. Это обеспечит стабильность процесса и предотвратит рассинхронизацию между системами.

