---
title: ADR — Теги и фасеты
slug: adr-tegi-i-fasety-b1150c
summary: >
  Утверждаем фасетную модель тегов: видимые хэштеги, машинотеги и aliases для
  автоматической нормализации.
tags: []
machine_tags: []
status: ready
service: true
---
# ADR — Теги и фасеты

## TL;DR
- Вводим фасеты `theme/*`, `action/*`, `product/*`, `tool/*`, `role/*`, `country/*`.
- Видимые хэштеги остаются человекоориентированными (#Adobe_Photoshop), машинотеги живут в front matter.
- Aliases приводят все варианты написания к единому canonical значению.

## Контекст
- Смешение пользовательских тегов и системных слагов мешало навигации и поиску.
- Не было способа гарантировать, что генерация и фильтры используют одинаковые значения.
- Нужно разделить представление для людей и машин, сохранив синхронизацию между Notion и GitHub.

## Решение
1. Формализуем фасетную схему: темы, действия, продукты, инструменты, роли, страны.  
2. Видимые хэштеги пишем в формате TitleCase_с_подчёркиваниями.  
3. Машинотеги (`machine_tags[]`) скрыты от UI, но обязательны для каждой страницы.  
4. В `docs/nav/tags.yaml` ведём aliases → canonical; нормализация подставляет нужные значения автоматически.

## Последствия
- Интерфейсы показывают чистые хэштеги, а фильтры опираются на фасеты.  
- `scripts/normalize.mjs` и `scripts/lint-docs.mjs` гарантируют, что нет сиротских или неверных тегов.  
- Любые новые фасеты или крупные изменения документируем отдельным ADR.

## Контроль изменений
- Расширение словаря требует апдейта `tags.yaml` и короткого ревью.  
- Перед статусом `ready` прогоняем нормализацию и убеждаемся, что предупреждений нет.

## Связано с…
- [Таксономия и теги](taksonomiya-i-tegi.md)
- [Вова и Петрова](vova-i-petrova.md)
- [Контент‑модель и маршруты](kontentmodel-i-marshruty.md)
- [Навигация (техническая)](navigaciya-tehnicheskaya.md)
- [Синтаксис и разметка — Markdown → WordPress](sintaksis-i-razmetka-markdown-wordpress-60cc6c.md)
