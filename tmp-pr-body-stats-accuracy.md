# Stats accuracy check: верификация метрик snapshot

## Цель

Проверить корректность всех метрик в stats.json и snapshot v3.

## Изменения

### 1. Создан скрипт верификации метрик

- ✅ Создан `scripts/verify-stats-accuracy.mjs` для автоматической проверки метрик
- ✅ Проверка корректности подсчёта страниц и статусов
- ✅ Проверка корректности подсчёта issues (total, internal_missing, service, external, unknown)
- ✅ Выборочная проверка 10-15 страниц на соответствие файлам

### 2. Результаты проверки

**Проверено метрик:**
- ✅ Количество страниц: 66 (ожидается 66)
- ✅ Статусы: ready=19, review=7, draft=40 (все соответствуют)
- ✅ Issues: все типы issues = 0 (соответствуют)

**Выборочная проверка страниц:**
- ✅ Проверено 15 случайных страниц
- ✅ Все страницы соответствуют файлам (статус, title, slug, service)
- ✅ Точность метрик: **100%**

### 3. Добавлена команда в package.json

- ✅ `npm run verify:stats` — запуск верификации метрик

## Deliverables

**Executor**: Cursor  
**Status**: ✅ Completed  
**Task**: [Stats accuracy check: верификация метрик snapshot](https://www.notion.so/4a434e192c104a8d92c2e70b2be57c1c)

### Completed

- [x] Ручная выборочная проверка 10-15 страниц
- [x] Сверка статусов ready/draft/review с реальными файлами
- [x] Проверка корректности подсчёта issues_total, tags, links
- [x] Исправление расхождений в скриптах отчётов (не требовалось)

### Changes

- Создан скрипт `scripts/verify-stats-accuracy.mjs` для автоматической верификации метрик
- Добавлена команда `npm run verify:stats` в `package.json`

### Files Changed

- `scripts/verify-stats-accuracy.mjs` — новый скрипт для верификации метрик
- `package.json` — добавлена команда `verify:stats`

### Metrics

- Проверено страниц: 15 (выборочно)
- Точность метрик: 100%
- Расхождений не обнаружено

### Acceptance

- ✅ Ручная проверка показывает 100% точность метрик (требовалось 95%+)
- ✅ snapshot v3 корректно отражает состояние
- ✅ Нет системных ошибок в подсчётах
- ✅ Отчёты достоверны

### Отчёт о проверке

**Проверенные метрики:**
- Количество страниц: ✅ 66
- Статусы: ✅ ready=19, review=7, draft=40
- Issues: ✅ все типы = 0

**Выборочная проверка страниц:**
- Проверено 15 случайных страниц
- Все страницы соответствуют файлам
- Расхождений не обнаружено

**Вывод:** Все метрики в `stats.json` корректны и соответствуют реальному состоянию репозитория.

